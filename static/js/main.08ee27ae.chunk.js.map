{"version":3,"sources":["components/LoginTest/LoginTest.js","components/App/App.js","index.js"],"names":["LoginTest","useState","email","password","confirmPassword","name","form","setForm","userTokenG","setUserTokenG","userTokenF","setUserTokenF","handleSubmit","e","a","preventDefault","axios","post","data","console","log","error","handleInput","target","value","responseGoogle","response","accessToken","body","token","responseFacebook","userLogout","bearerToken","opt","method","url","headers","Authorization","res","onSubmit","type","placeholder","onChange","clientId","buttonText","onSuccess","onFailure","autoLoad","cookiePolicy","appId","fields","callback","buttonStyle","padding","fontSize","marginLeft","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08ee27ae.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport axios from \"axios\";\r\n\r\nconst LoginTest = () => {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    name: \"\",\r\n  });\r\n  const [userTokenG, setUserTokenG] = useState(\"\");\r\n  const [userTokenF, setUserTokenF] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const { data } = await axios.post(\r\n        \"https://powerful-waters-91620.herokuapp.com/auth/register\",\r\n        form\r\n      );\r\n\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n\r\n    setForm({ email: \"\", password: \"\", confirmPassword: \"\", name: \"\" });\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    setForm({ ...form, [name]: value });\r\n  };\r\n\r\n  const responseGoogle = async (response) => {\r\n    try {\r\n      const { accessToken } = response;\r\n\r\n      console.log(response);\r\n\r\n      const body = {\r\n        accessToken,\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        \"https://powerful-waters-91620.herokuapp.com/auth/google\",\r\n        body\r\n      );\r\n\r\n      setUserTokenG(data.token);\r\n      setUserTokenF(\"\");\r\n\r\n      console.log(\"GOOGLE LOGIN GOOD\");\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(\"GOOGLE LOGIN FAILED\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const responseFacebook = async (response) => {\r\n    try {\r\n      const { accessToken } = response;\r\n\r\n      const body = {\r\n        accessToken,\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        \"https://powerful-waters-91620.herokuapp.com/auth/facebook\",\r\n        body\r\n      );\r\n\r\n      setUserTokenF(data.token);\r\n      setUserTokenG(\"\");\r\n\r\n      console.log(\"FACEBOOK LOGIN GOOD\");\r\n\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(\"FACEBOOK LOGIN FAILED\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const userLogout = async () => {\r\n    let bearerToken = null;\r\n\r\n    if (userTokenG) {\r\n      bearerToken = userTokenG;\r\n    } else if (userTokenF) {\r\n      bearerToken = userTokenF;\r\n    }\r\n\r\n    try {\r\n      const opt = {\r\n        method: \"POST\",\r\n        url: \"https://powerful-waters-91620.herokuapp.com/auth/logout\",\r\n        headers: {\r\n          Authorization: `Bearer ${bearerToken}`,\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n      };\r\n      const res = await axios(opt);\r\n\r\n      console.log(\"LOGOUT GOOD\");\r\n\r\n      console.log(res);\r\n    } catch (error) {\r\n      console.log(\"LOGOUT FAILED\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"email\"\r\n            name=\"email\"\r\n            value={form.email}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"password\"\r\n            name=\"password\"\r\n            value={form.password}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"confirm password\"\r\n            name=\"confirmPassword\"\r\n            value={form.confirmPassword}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"name\"\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">register</button>\r\n      </form>\r\n      <br />\r\n      <div>\r\n        <GoogleLogin\r\n          clientId=\"1016113227604-0u7tph6hm9s2bbnvi19h8dvdg3h5lqu4.apps.googleusercontent.com\"\r\n          buttonText=\"Login\"\r\n          onSuccess={responseGoogle}\r\n          onFailure={responseGoogle}\r\n          autoLoad={false}\r\n          cookiePolicy=\"https://alexeyshalkevych.github.io/test-project-auth/\"\r\n        />\r\n        <FacebookLogin\r\n          appId=\"628094021455729\"\r\n          fields=\"name,email,picture\"\r\n          callback={responseFacebook}\r\n          autoLoad={false}\r\n          buttonStyle={{\r\n            padding: \"12px 16px\",\r\n            fontSize: \"14px\",\r\n            marginLeft: \"10px\",\r\n          }}\r\n        />\r\n      </div>\r\n      <br />\r\n      <div>\r\n        <button onClick={userLogout}>logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginTest;\r\n","import React from \"react\";\r\nimport LoginTest from \"../LoginTest/LoginTest\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <h2>Hello Github</h2>\r\n      <LoginTest />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}